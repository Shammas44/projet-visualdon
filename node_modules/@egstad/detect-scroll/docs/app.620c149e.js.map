{"version":3,"sources":["../src/getElement.js","../src/events.js","../index.js","app.js"],"names":["getEl","el","element","isElement","window","document","querySelector","o","HTMLElement","nodeType","nodeName","eventsDefault","eventsVertical","eventsHorizontal","eventsSetup","eventOverrides","isVertical","isHorizontal","typeOf","console","error","eventsInit","events","Object","entries","forEach","event","key","value","addEventListener","eventsDestroy","removeEventListener","keys","length","Array","isArray","DetectScroll","horizontal","vertical","debugMode","undefined","x","getX","y","getY","lastDispatch","hasScrolled","isWindow","isScrolling","rafId","rafTick","rafKilled","timeout","destroy","bind","onScroll","hasInit","destroyed","passiveMode","scrollingU","scrollingD","scrollingL","scrollingR","init","passive","watchScrollPosition","clearTimeout","cancelAnimationFrame","setTimeout","onScrollEnd","watchX","watchY","pageYOffset","scrollTop","max","Math","body","scrollHeight","documentElement","offsetHeight","clientHeight","innerHeight","getYMax","pageXOffset","scrollLeft","scrollWidth","offsetWidth","clientWidth","innerWidth","getXMax","scrolling","scrollingLeft","scrollingRight","atEnd","isMaxX","atStart","isMinX","onScrollStart","dispatch","scrollingUp","scrollingDown","isMaxY","isMinY","type","isValidOverride","isValidDefault","includes","dispatchEvent","CustomEvent","detail","info","requestAnimationFrame","scrollTimeout","updateState","position","innerText","updateDirection","direction","hori","tool1","poster","state1","dir1","x1","y1","detectScroll","scrollStart","scrollStop","scrollUp","ev","scrollDown","scrollRight","scrollX","round","scrollY","style","backgroundImage","scrollTo"],"mappings":"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","file":"app.620c149e.js","sourceRoot":"../example","sourcesContent":["export function getEl(el) {\n  let element = null\n\n  if (isElement(el) || el === window) {\n    element = el\n  } else if (typeof el === 'string') {\n    element = document.querySelector(el)\n  }\n\n  return element\n}\n\n// Returns true if it is a DOM element\nfunction isElement(o) {\n  return typeof HTMLElement === 'object'\n    ? o instanceof HTMLElement\n    : o &&\n        typeof o === 'object' &&\n        o !== null &&\n        o.nodeType === 1 &&\n        typeof o.nodeName === 'string'\n}\n","const eventsDefault = ['scrollStart', 'scrollStop']\nconst eventsVertical = [\n  'scrollX',\n  'scrollUp',\n  'scrollDown',\n  'scrollMinY',\n  'scrollMaxY',\n]\nconst eventsHorizontal = [\n  'scrollY',\n  'scrollLeft',\n  'scrollRight',\n  'scrollMinX',\n  'scrollMaxX',\n]\n\nexport function eventsSetup(eventOverrides, isVertical, isHorizontal) {\n  // if overrides exist\n  if (eventOverrides && typeOf(eventOverrides)) {\n    return eventOverrides\n  }\n  // if overrides are an invalid format\n  else if (eventOverrides && !typeOf(eventOverrides)) {\n    console.error(`Whoops! 'events' must be an object with at least one prop.`)\n  }\n  // defaults\n  else {\n    return [\n      ...eventsDefault,\n      ...(isVertical ? eventsVertical : []),\n      ...(isHorizontal ? eventsHorizontal : []),\n    ]\n  }\n}\n\nexport function eventsInit(element, events) {\n  if (typeOf(events)) {\n    Object.entries(events).forEach((event) => {\n      const [key, value] = event\n      element.addEventListener(key, value, false)\n    })\n  }\n}\n\nexport function eventsDestroy(element, events) {\n  if (typeOf(events)) {\n    Object.entries(events).forEach((event) => {\n      const [key, value] = event\n      element.removeEventListener(key, value, false)\n    })\n  }\n}\n\nfunction typeOf(events) {\n  return (\n    typeof events === 'object' &&\n    Object.keys(events).length > 0 &&\n    !Array.isArray(events)\n  )\n}\n","import { getEl } from './src/getElement'\nimport { eventsSetup, eventsInit, eventsDestroy } from './src/events'\n\nexport default class DetectScroll {\n  constructor(\n    el,\n    {\n      horizontal = true,\n      vertical = true,\n      debugMode = false,\n      events = undefined,\n    } = {}\n  ) {\n    this.el = getEl(el)\n    this.x = this.getX()\n    this.y = this.getY()\n    this.lastDispatch = null\n    this.hasScrolled = false\n    this.isWindow = window === el\n    this.isScrolling = undefined\n    this.isVertical = vertical\n    this.isHorizontal = horizontal\n    this.rafId = null\n    this.rafTick = 0\n    this.rafKilled = false\n    this.timeout = null\n    this.destroy = this.destroy.bind(this)\n    this.onScroll = this.onScroll.bind(this)\n    this.events = eventsSetup(events, this.isVertical, this.isHorizontal)\n    this.debugMode = debugMode\n    this.hasInit = 0\n    this.destroyed = null\n    this.passiveMode = true\n    this.scrollingU = 0\n    this.scrollingD = 0\n    this.scrollingL = 0\n    this.scrollingR = 0\n\n    this.init()\n  }\n\n  init() {\n    // fetch x&y\n    if (this.isHorizontal) this.getX()\n    if (this.isVertical) this.getY()\n\n    // defines custom events to dispatch\n    eventsInit(this.el, this.events)\n\n    // main scroll event that informs everything\n    this.el.addEventListener('scroll', this.onScroll, {\n      passive: this.passiveMode,\n    })\n\n    // show dispatched events\n    if (this.debugMode && process.env.NODE_ENV === 'development') {\n      console.group('Detect Scroll Debugger')\n      console.log('Element', this.el)\n      console.log('Events', this.events)\n      console.groupEnd()\n    }\n\n    // watch for changes\n    this.watchScrollPosition()\n\n    // reset value if destroyed\n    this.destroyed = 0\n    this.hasInit = 1\n  }\n\n  destroy() {\n    // remove scroll event + timeout + custom events\n    this.el.removeEventListener('scroll', this.onScroll, {\n      passive: this.passiveMode,\n    })\n    // remove custom events\n    eventsDestroy(this.el, this.events)\n    // remove timeout (in case teardown fires mid-scroll)\n    window.clearTimeout(this.timeout)\n    // remove raf\n    window.cancelAnimationFrame(this.rafId)\n    this.rafKilled = true\n    this.events = undefined\n    this.destroyed = 1\n    this.hasInit = 0\n  }\n\n  scrollTimeout() {\n    this.timeout = setTimeout(() => {\n      this.onScrollEnd()\n    }, 120)\n  }\n\n  watchScrollPosition() {\n    if (this.isHorizontal) this.watchX()\n    if (this.isVertical) this.watchY()\n  }\n\n  getY() {\n    return this.isWindow ? window.pageYOffset : this.el.scrollTop\n  }\n\n  getYMax() {\n    let max = null\n\n    if (this.isWindow) {\n      max = Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight,\n        document.body.offsetHeight,\n        document.documentElement.offsetHeight,\n        document.documentElement.clientHeight\n      )\n    } else {\n      max = Math.max(\n        this.el.scrollHeight,\n        this.el.offsetHeight,\n        this.el.clientHeight\n      )\n    }\n\n    return max - window.innerHeight\n  }\n\n  isMaxY() {\n    return this.getY() >= this.getYMax()\n  }\n\n  isMinY() {\n    return this.getY() <= 0\n  }\n\n  getX() {\n    return this.isWindow ? window.pageXOffset : this.el.scrollLeft\n  }\n\n  getXMax() {\n    let max = null\n\n    if (this.isWindow) {\n      max = Math.max(\n        document.body.scrollWidth,\n        document.documentElement.scrollWidth,\n        document.body.offsetWidth,\n        document.documentElement.offsetWidth,\n        document.documentElement.clientWidth\n      )\n    } else {\n      max = Math.max(\n        this.el.scrollWidth,\n        this.el.offsetWidth,\n        this.el.clientWidth\n      )\n    }\n\n    return max - window.innerWidth\n  }\n\n  isMaxX() {\n    return this.getX() >= this.getXMax()\n  }\n\n  isMinX() {\n    return this.getX() <= 0\n  }\n\n  watchX() {\n    const x = this.getX()\n    const scrolling = x !== this.x\n    const scrollingLeft = x < this.x\n    const scrollingRight = x > this.x\n    const atEnd = x !== this.x && this.isMaxX()\n    const atStart = x !== this.x && this.isMinX()\n\n    this.x = x\n\n    if (scrolling) {\n      this.onScrollStart()\n\n      if (scrollingLeft && !this.scrollingL) {\n        this.dispatch('scrollLeft')\n        this.scrollingL = 1\n        this.scrollingR = 0\n      } else if (scrollingRight && !this.scrollingR) {\n        this.dispatch('scrollRight')\n        this.scrollingL = 0\n        this.scrollingR = 1\n      }\n    }\n\n    if (atStart) this.dispatch('scrollMinX')\n    if (atEnd) this.dispatch('scrollMaxX')\n    if (this.x) this.dispatch('scrollX')\n  }\n\n  watchY() {\n    const y = this.getY()\n    const scrolling = y !== this.y\n    const scrollingUp = y < this.y\n    const scrollingDown = y > this.y\n    const atEnd = y !== this.y && this.isMaxY()\n    const atStart = y !== this.y && this.isMinY()\n\n    this.y = y\n\n    if (scrolling) {\n      this.onScrollStart()\n\n      if (scrollingDown && !this.scrollingD) {\n        this.dispatch('scrollDown')\n        this.scrollingD = 1\n        this.scrollingU = 0\n      } else if (scrollingUp && !this.scrollingU) {\n        this.dispatch('scrollUp')\n        this.scrollingD = 0\n        this.scrollingU = 1\n      }\n    }\n\n    if (atStart) this.dispatch('scrollMinY')\n    if (atEnd) this.dispatch('scrollMaxY')\n    if (this.y) this.dispatch('scrollY')\n  }\n\n  dispatch(type) {\n    const isValidOverride =\n      typeof this.events === 'object' && type in this.events\n    const isValidDefault =\n      Array.isArray(this.events) && this.events.includes(type)\n    const unthrottledEvents = ['scrollX', 'scrollY']\n    const eventNotDuplicated = this.lastDispatch !== type\n\n    // start/stop/direction events fire only once\n    if (eventNotDuplicated && (isValidOverride || isValidDefault)) {\n      this.el.dispatchEvent(\n        new CustomEvent(type, {\n          detail: {\n            x: this.x,\n            y: this.y,\n          },\n        })\n      )\n      this.lastDispatch = type\n\n      if (this.debugMode) console.info(type)\n    }\n\n    // updates to x or y fire each time\n    if (unthrottledEvents.includes(type)) {\n      this.el.dispatchEvent(new CustomEvent(type))\n\n      if (this.debugMode) console.info(type)\n    }\n  }\n\n  onScroll() {\n    if (this.rafKilled) return\n\n    this.rafId = window.requestAnimationFrame(() => {\n      this.watchScrollPosition()\n\n      // refresh timeout, watch for scroll stop\n      window.clearTimeout(this.timeout)\n      this.scrollTimeout()\n    })\n  }\n\n  onScrollStart() {\n    if (!this.isScrolling && this.hasInit) {\n      this.dispatch('scrollStart')\n      this.isScrolling = true\n    }\n    this.hasScrolled = 1\n  }\n\n  onScrollEnd() {\n    this.dispatch('scrollStop')\n    this.isScrolling = false\n    this.scrollingU = false\n    this.scrollingD = false\n    this.scrollingL = false\n    this.scrollingR = false\n  }\n}\n","import DetectScroll from '../index.js'\n\nfunction updateState(el, position) {\n  if (el.innerText !== position) {\n    // eslint-disable-next-line no-param-reassign\n    el.innerText = position\n  }\n}\n\nfunction updateDirection(el, direction) {\n  el.innerText = direction\n}\n\n// ----------------------------------------------------------------------------\n// Window Element\n// ----------------------------------------------------------------------------\nconst hori = document.querySelector('.hori')\nconst tool1 = document.querySelector('.tip.window')\nconst poster = document.querySelector('.poster')\nconst state1 = tool1.querySelector('.stat')\nconst dir1 = tool1.querySelector('.dire')\nconst x1 = tool1.querySelector('.x')\nconst y1 = tool1.querySelector('.y')\n\nwindow.detectScroll = new DetectScroll(window, {\n  // horizontal: false,\n  debugMode: true,\n  events: {\n    scrollStart: () => {\n      updateState(state1, 'is scrolling')\n    },\n    scrollStop: () => {\n      updateState(state1, 'is not scrolling')\n      updateDirection(dir1, '')\n    },\n    scrollUp: (ev) => {\n      updateDirection(dir1, 'up')\n    },\n    scrollDown: () => {\n      updateDirection(dir1, 'down')\n    },\n    scrollLeft: () => {\n      updateDirection(dir1, 'left')\n    },\n    scrollRight: () => {\n      updateDirection(dir1, 'right')\n    },\n    scrollX: () => {\n      updateDirection(x1, Math.round(window.detectScroll.x))\n      // background:\n    },\n    scrollY: (ev) => {\n      const y = window.detectScroll ? window.detectScroll.y : 0\n      updateDirection(y1, Math.round(y))\n\n      poster.style.backgroundImage = `conic-gradient(from ${\n        y * 0.05\n      }deg, #101115, #298DD9, #DEE4CA, #F7BF46, #EF1A03)`\n\n      hori.scrollTo(y, 0)\n      // console.log(instanceWindow.y)\n    },\n    // scrollMaxY: () => {},\n    // scrollMinX: () => {},\n    // scrollMaxX: () => {},\n  },\n})\n\n// // const tool2 = hori.querySelector('.tip')\n// // const state2 = tool2.querySelector('.stat')\n// // const dir2 = tool2.querySelector('.dire')\n// // const x2 = tool2.querySelector('.x')\n// // const y2 = tool2.querySelector('.y')\n// const instanceHori = new DetectScroll(hori, {\n//   debugMode: true,\n//   // events: {\n//   // scrollStart: () => {\n//   //   updateState(state2, 'is scrolling')\n//   // },\n//   // scrollStop: () => {\n//   //   updateState(state2, 'is not scrolling')\n//   //   updateDirection(dir2, '')\n//   // },\n//   // scrollLeft: () => {\n//   //   updateDirection(dir2, 'left')\n//   // },\n//   // scrollRight: () => {\n//   //   updateDirection(dir2, 'right')\n//   // },\n//   // scrollX: () => {\n//   //   updateDirection(x2, Math.round(instanceHori.x))\n//   // },\n//   // },\n// })\n\n//\n\n// const scrollV = window\n// const scrollV = document.querySelector('.h')\n// const teardownV = document.querySelector('.teardown')\n// // eslint-disable-next-line no-unused-vars\n// const tipV = document.querySelector('.tip.v')\n// const vDir = tipV.querySelector('.direction')\n// const vPos = tipV.querySelector('.state')\n// const scrollVInstance = new DetectScroll(scrollV, {\n// horizontal: true,\n// vertical: true,\n// events: [],\n// events: {\n//   scrollStart: () => {\n//     console.log('start')\n//     updateState(vPos, 'scrolling')\n//   },\n// },\n// events: {\n//   scrollStart: () => {\n//     console.log('start')\n//     updateState(vPos, 'scrolling')\n//   },\n// },\n// events: {\n\n// },\n// })\n// console.log(scrollVInstance)\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// Detect Vertical Scroll\n// Events fired: \"scrollStart\", \"scrollStop\", \"scrollUp\", \"scrollDown\", \"scrollMinY\", \"scrollMaxY\"\n// const detectScroll = new DetectScroll(window)\n\n// Detect Horizontal Scroll\n// Events fired: \"scrollStart\", \"scrollStop\", \"scrollLeft\", \"scrollRight\", \"scrollMinX\", \"scrollMaxX\"\n// const detectScroll = new DetectScroll(window, {\n//   horizontal: true,\n//   vertical: false,\n// })\n\n// Detect Vertical & Horizontal Scroll\n// Fires \"scrollStart\", \"scrollStop\", \"scrollUp\", \"scrollDown\", \"scrollMinY\", \"scrollMaxY\", \"scrollLeft\", \"scrollRight\", \"scrollMinX\", \"scrollMaxX\"\n// const detectScroll = new DetectScroll(window, {\n//   horizontal: true,\n// })\n\n// Detect scroll start and stop only\n// Fires \"scrollStart\", \"scrollStop\",\n// const detectScroll = new DetectScroll(window, {\n//   vertical: false,\n//   horizontal: false,\n// })\n\n// Check Events from anywhere\n// Events fired: \"scrollStart\", \"scrollStop\", \"scrollUp\", \"scrollDown\", \"scrollMinY\", \"scrollMaxY\"\n// const el = window\n// const detectScroll = new DetectScroll(el, {\n//   // debugMode: true,\n//   events: {\n//     scrollUp: () => {\n//       console.log('u')\n//     },\n//     scrollDown: () => {\n//       console.log('d')\n//     },\n//   },\n// })\n// const foo = (ev) => {\n//   console.log(ev.type)\n// }\n\n// el.addEventListener('scrollUp', foo)\n// el.addEventListener('scrollDown', foo)\n// el.addEventListener('scrollStop', foo)\n\n// Check Events from anywhere\n// const el = window\n// const detectScroll = new DetectScroll(el, {\n//   events: {\n//     scrollStart: () => {\n//       console.log('start')\n//     },\n//     scrollStop: () => {\n//       console.log('stop')\n//     },\n//     scrollUp: () => {\n//       console.log('up')\n//     },\n//     scrollDown: () => {\n//       console.log('down')\n//     },\n//     scrollMinY: () => {\n//       console.log('top')\n//     },\n//     scrollMaxY: () => {\n//       console.log('bottom')\n//     },\n//     scrollLeft: () => {\n//       console.log('left')\n//     },\n//     scrollRight: () => {\n//       console.log('right')\n//     },\n//     scrollMinX: () => {\n//       console.log('beginning')\n//     },\n//     scrollMaxX: () => {\n//       console.log('endX')\n//     },\n//   },\n// })\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// // add your own events! if you do tho, you'll have to pick up your own trash tho\n// teardownV.addEventListener('click', () => {\n//   detectScroll.destroy()\n//   console.log('teardown')\n// })\n"]}